language: java

sudo: false # faster builds

cache:
  directories:
    - $HOME/.m2

env:
  global:
    - secure: "Nj7nu+apLWq2QIfrHZzCV3xYgeF+VNNe/kCcfEw8qAz4r4vh2OhZEAS4O7Z8Z1GVMBcKhaSy1P+Cz6bzGg/BqE5WQWlhOHopSQuK73JI3Bvsv7TKcYiRNAYXttCycS3rFtsqwO+o8dQxq32KMfS2CqmxsS7J1AR55jHyQyP9YbAi33knO2yQXr1Z1rPARQhwGCgpqf8XExODq+QzkukIJnI/sHO+0J8ID35wMFiDllcuhasmPLdQ0Z8IV1HYBdVBQ7IPwSYgxkuzFdkpGWZv65RrYw2xkCZsiX5MrWOu5Ta46GcWJDeSmx5A1Pm5VOqWzviUQewe6k3Cu67lLFGiZB5KKOfkoGEGG8AZ2Trbc2VyKX1Qr56GKK8HQiyTIC3GVAV2a+ZGuNARiAXRGC8fJcurxSlopg3dLRfUxXHsLFvtGqI19bP93xXeVRVr4oq46yFQWXU4xsPFf6HtL8VY+X3j9N4fSP5tnbCyRkKWA0D7W0wXJMcHmuBnLmtvbt80UhEuesnZNHmd5rz3jvsMZmKdZiXNXbFn6KN9RIKPNNkqwEhCK0rI97ljJiQ5TMfoZ6Q1Rs59rPlq6wAFFa2sXzPFqT4TKvDAGemQI/Uo45FaqfagbF0sMk4yYsCSlzoBZHx1rNcL9I5QietruY6MhfU3WCwh3Kqv/sQPEHym6L0="
    - secure: "gvRIFRqudMlIrPZGx0BAX4s7JERhl3aXXYR1FzctTTDYlbpJdp3i6PY4aV0TcGZEfYxyW/pMSwmxt2k0CHeGFdUU7+j1ZK/+E1WjNKLLfLGy7IrzTQfgImG/1aCXGxEjOa8BJSjpb+JAetI4EpZLfJW959SoeglyZw+lzJV4g5z/J/v+/58U3u3bm34cXsfnjjOr6zxCiGn1tv3wvimskRLL63+BYXNz3s91x7tG21c6/Sv31af/88/PpmOO2FMuVIsLKKe5YJQjfHMwSxB2h4pbQPvRMX1/Pi6BCpmEGjyj/x8hYPpsS5n2MSTMGSaCmm5u/4VYlwtTCGn+eu9XAHZDA2dHWJWZL53p/9oml0ASzh8RQkaE4QbeVc7q/CNgnIW4urF1086odPEaP1crKP8J/foEPlPFCpue4MEsvYokn40AbrI2BwYi/LHGeNkNKAQnvtR7baBdMG8g7gSSPusI4DnGsX3YHJcvJD43lN+Q5ySmIaXlDFWPLzNxyOQ0CnEvTAGXeay9Lg36WxxPlLbmKWC2gykuWzD9hcdKHIJWJ5tvHUI757x7yHzmpSP0HETjhKtC7NYYjZU70mvOr/hwzX8D+hVnj7P/7ZxhHKB7mag0cPgc+JWpEZkmz0tHG/5Y7uy/zQOgaf3pWTLfAGGCmYPcNu6i81D/fVuzdHQ="
    - secure: "QJdxvN1qHqqvlsNWWkGWhYGK60wbgOolJ9b7hSiTQeR+5598OLO8Hl9Zi1c0bUuBK3zL8Flbdj/FupXO9JA7+mopQ5QDTiAQPR4ryvp8ANQZ5ACU1bsicn3DeaiqrgCdlOhMIpd4Y0ziYNtlQqbA9mwEw254rQzLi4yN/RsNNX5l3pPZh9R3qy31DE2IeZhB/TIS9AVz0XT1pdS//IosD5m0fc2hAFYH6GzLy1cJQXbQrRqwrz/qw2NXAkiROkyRKHwKQyVzEGqNUBEHNbCpOItsbyQXS6cfsmoUI/d5voNuODfOL0rxHG9TiZKUzb/jmvamqCZZIfkLt745EPPpa38izGrZ+CjqC3pnvOYPgqWX9lfv59ZclMxMjTeeNirTp20HPLbUwv9s2BoDNpMWaLHRwiEzOwfRIPjU5bnn2qzRbcmFiUTN/hLCsIl0lzGDkKgFlDPo4qkLZTf78Cwj/C93xEkYIwXjRZYL5NZ6hmTEZluNDVMEMFw/6hZMtdaxE5KGAy/YVKmEbf+OHejd/jbYMo9qO/NGASl5AIMJe/h//o/qhxP0Y/n5lDfEnM6Fz+ztYB+yf0GWuhGrzkbbCATjoKnJpYojbAKuqilxL55bQDvdbVyTRdn/1vhHsHrZBMIiB5WJ0szPg2wYRXNfwhnhQyIr8Upv2lE5FBT93QQ="
    - secure: "nyMUjJzVwpi2xpB3J1KHWTUzOUJm8IKO9ofamQFQ2IpB6dS9slBjxxQOy7iws6CdqfCKd/Ly8NEGxsb7315E1t0jjLG+eAguo1VBDzp57ETHsGKdGxAChSNWVeJ9J5/UG3h1z6AMwQkq/TwEU3kNRW1X15u5mTtdFfZGPKYMYZb6YDfabxeJb5bwuhCFKcjfc3Aw92IimWO5olUag1/Ct1sTyD0n1pKm+nqN4Cv50IaleI4EKllzHjX3QipkknwX8lFV6cHu4DKxli0UNXI24XdLgPNp/du+6WNUvm8rcJk+30JqAEjTGnxAgtpSYfECiarDebuRf/KofTRMsENJMUa4ipjjkMkidNxNOnZJeIj4T96BkUv1YPZZ2x9P5OQSkxFNAPjnIrSGrEPy7sWaW8IpBemoJ0QYX02MgFhqVkYzifbLfn+yVGX6ihuDPZ4hSggOcevbFE5eY/0/wC7Ew3wGFyCAbf+kliMe6tutRxbb8fgJ9K/7KmSOFTrLhb2pC8xuOUqWK2ePW5l9njuuUDZO1WMXvV0yNfN+JVlF9o7nj7UgIWOuzKF3cmHy30opWHIhvTCtyqkNdoRsswiPgvBICYvcjFyxET6y621xupJKih6zP6P/UJNT/HzDOvI8L8XV5/8sEubHX8323frBMw9MY3sTnK5F15cQ0Ja8ejo="
    - secure: "fIZiojznwXDhD+TnBYgEoxcDIEJcfDGB+5bIx+pb8JhYnOlB9AeCBoL6bmVdr0YFKn7EljpmrwnN0KTBMC0TLvVzXSSWvicXtoJl/7xq9oYZb8QJRviEUxo/n66B40Nb5Pkfb8Pzwz1I4Hrh2dQrjilRlLwSH2K333d3/EJxSnrgSpGpnoJsg5xLwvWJlfIGfimLurzmQFA6E4dDjuuZAzwkt06m0Gs0cHly/rC+9vqMSNJ3ZxCrVBqXwsjjorlwb0XVAUalcH2oZdW6qKfaD7DCDdv9CK5uNsTssvJu3viVrP+qypHWeSV4gdl7j631zMq9nZNQJQtMwA5m7K0M7nql1z5KoCAhWmaPjHL1jtDwy7oEmKzyeXcthynuYg8j5RKUGNw9sSE9hvqkmV1TG4ZfeXJEMBDgyZQ2qGIjB04TfHMDzZyK/BB87ZH7388wvD+Sjo3lbFnsrR3QaXMEU8wgkybm7ryZCzI0mNqxK8/uYBmBzUjh2EKw7nJ8Lvrf+JVYKPOkn3xumt4nVHgL+D94r5g79JEemU93YkTAPC9ANkRn9j22GFwhXtcsDSSlWV+m+nAvkbjlxMcS8s2zAgGfubM4PWwx4QhnRU+XT00Zm7uJ998TTMYflxNrh3DsuTm45Q35wgZZJk0WcrXeuAoYX3CJ5w+LyfrAyPJDQCE="
    - secure: "CHv/BzLFADW2XpZ8/FM82K/a2qzwq0TZ/HdkQUgljIj+Cl78E27VrNXz0b+CjVGCdnj0nK/tTcaE1qG9ZH0qZEmiiHxYxrjx7/kDEColErYyPgnfSOiUD1WI6zHf6s+czRqlDVXYcYgMP4fmmkA0+UX7i7/Uhuz6BzOIfSPyJA4KhoxMVsnKfoNxImUmIZ4EtZ2MW7SkCUQzUi86ne4lFtWlQbk2uP+AbR0qx2o03pvNXZKDHwa33k7wlxOPprVtUZISIdy3Fqc9morCZPTNdmLT/cUYTRe36EQaYeV8+IyeGktBpMwun4zYypnjO8VEBHK3ehQnnnfe+q+FgCEDdUr4dQtW7DLXpBepSGLu9a+ZS7qt9gb2eQG2Wt7tv5qtWicTTIfIPI8TZFbYeJvaU+vzhEA6XeftyOEM0nravGtQ61Du94WciTYWD1qznUUaa7KSRfLHpBYcV8LZIXJ0paIRiyQYnw8rTxs+xqMQoJLi6LnS28HD/j2mgZ8OOMikeRRWtCC5t2eAi7JLtxfzBrLcTywivdfguanBSFSq9Qnnpan2UOX1HpTVeyHs5tdT3LOjonv8HlfAuBTEoBfuHIpWqNFSs1g/bNGv3EbHPgsuNYvH8CRF+O11KpwpyREUoEd7y3dXGgGMFguqa/qj4G6bQCm0wreEtv0XuVKxWtQ="
    - secure: "tVtOn9GrIuoq1emp/87u/AyfuiVPMUlULjNLPWGWEs+xYRfPcIHZz5YqPq1/euUHKwn5A6T3iAVjyearCIL5G0Sw6xZlBzU3AkgNNs/S3GSpE43MfESpZujN30C6J6pAwJwa+Z4P8w1l3XJ2oZgS8B0qG8SCHrljwV9kbRTc2Uu/WjJOhVjOp9M3oBNF0nd+dKYov3feWB0S/fby8jCx4/W2XRARGMUn3SU9nBrssbDGK5OI/+/y0NziymCoaFRIrBTZZWJvpJx30tQzIY5RmjmvgFk++QqGZT1fBBzb00aT517wSk5F5+rRXLoVn1GT4GFFyeVD6MmIRnqAMVRM2U6/6064UR67sKTzTWUHqIJmSX5HQJQ9hYBZAHl0cYvESvRg4Cr4QJwAOUekoMuRXmE0tvHA7UTgOWLmPDGa+wjsstW6B91f3qD7/cvNoyuhvqZCluRkBP3jDV62Rcn+CQgJYx49i9FMACFFyTCFW9aCpyYWHuvYeJt4iCuYg3nH0DbFY4qI2Tnqnp1O3ZIvBrGfvDsK2d7v+eDev62k+kfh7hw0mPXHeVGEaDLdxaVCMsZPGz7EiRDVEh9/BD2ON7sP8fHZS35khnoE75Dq+GFwTDURqNLjAM+qYqjNoPeV5M78BGaJ1ggBg/GhxcKFB2Mk1wBmqBBuZqPgVswWzIo="
    - secure: "cAJk5MMR/5le8tK+mvlgP1VkNc6l+n7WrMzyOzkHSQeX5EG6nsjK5Gyr5PchGscJdAY0a/KpsdIX/sPaWmb6dD/Oiq7J2SgOUaaKiaOPJjyK6HezEEs0WsagamneHcO/Tv0WDlCxa6nJeKhY1kOCGq6A33CI6LjDoqhNzYH5zW+e2no7DaVPS62lgBvB+6wh6QPybUZ5T5vM6AwP4Hv/bNJlvq6e6fhFOEp+O0uEUJn1nxfXcnLR34Se7VuyiggVRYuMnG2CGXrIh3EAV1NhSofS3JoNQjFvXo5ktpmnwqsR+3A1D1ZEG4wjFuTF3jXwUw5z65lkZAWABEKdG6wExuPRaJK9M9S1Qs0R7vUyIQ8TCC1ns6gfcoEV5EO8AxNYB3sNgLaRiUT9x1APO9wUgBaD71keh/JDaNu806lqGTncj6DDrFZWPDnXi2E8fTOk+3QitrdDSUHcPucUh2BhOpaPUNlCT6DSSaszmWUVePe7xHIFv+8XpyFNc1k1jT+VpR/Wzy+G026n5XYIuOUFHWu/GkB2AApNUW7dmaSE61r9M6yD5aWi5HNlnz/xhQ43IaRcqpGyTwYS5pg4nMd0DW5+D51gGgDWJ8tqlEsFgoLoYKxY/SJeTpLo+tUAwHsY/VvFLMbJmTnJFyq2YN6aCtjFFueifop4QAReBCQzLHY="

    
addons:
  sonarcloud:
    organization: "arihealth"
    token:
      secure: "qREZRXsMDgjqj22ZJpsBodSHxHQS07hcPPC/v/LHeXRDeCJI5bW4EkYPDsMd9vc0Ra/hFO46Cue/syn4DKCZswNDONYaS/CYtqJezjurUl4pFEO6RtVeTiMHI4ce8DZ4tqHGgC4OOwd/IpR05Wq7I5IdPBmNyZ75SvVFbhr1vyqMWdcuQp+h+VoxSJBZ21S9M1nI6p0koXfbAqyLZesn0TGcsdHmmXCDax25SsEVwzhUV1OhLlusYn1r42QbKU19IFv11tKwDknYi+FCULQXM8mx/ehp7H22sK/oH6jM/WjFoIJWA1BvyPIqh3eLL6y5o8UJAEZ9HVLJcQVSRsSQCXQgPsACkDIMXZFny2grtD53D/lH24Bb0aOX0Uuj5Unxv/Ek4N12WJR7HAKK8KOH7raff9ob37E+fIP2JLMi15BKQRlYn6rYMYU1FvfZzjcBAnBJEYiCiha/iA1RLFxD5YwCF/8SM3DY8uziIHbE2fwmnnA48xHimFrYO9fxjoxleZYekFQ2sOtFEFx5gyKFu1pl7vr1+8JabOX5pU6TcLAM1MzmF8mbh8toZTL7pHmbq+QHISbdyKnvHTAbIqdfruFd8sGf4y0GWyTNLgf+iUUtF6U5KIRqGSj/CbCjsqG02nWL9gPOxwMXhAZieMKem6+riT/dPUv+bkUL51HBVBM="

script:
  - if [ "$TRAVIS_PULL_REQUEST" = "true" ]; then mvn clean test; mvn package -Dmaven.test.skip=true; mvn sonar:sonar; fi
  - if [ "$TRAVIS_BRANCH" = "master" ]; then mvn clean test; mvn sonar:sonar; fi
  - if [ "$TRAVIS_BRANCH" = "release" ]; then chmod +x .travis/prepare.sh && .travis/prepare.sh; mvn -s .travis/settings.xml -B release:clean release:prepare; git push --tags; mvn -s .travis/settings.xml -B release:perform; chmod +x .travis/push.sh && .travis/push.sh; fi

after_success:
- bash <(curl -s https://codecov.io/bash)
